                  TCP/IP プロトコルスタック（TINET）
       リリース 1.7、プロセッサ・システム依存定義［2015/12/19］

1.  プロセッサ・システム依存定義について

  TINET を、多様なターゲットに対応するためのロセッサ・システム依存定義
で、以下のファイルを使用している。 

   (1)   tinet_defs.h
           TINET 全体パラメータを定義し、 以下のファイルをインクルード
         している。TINET のルートディレクトリに置く。

   (2)   tinet_target_defs.h（TOPPERS/ASP）
           ターゲットに依存するパラメータを定義する。 各システムのター
         ゲット依存部のディレクトリに置く。 

   (3)   tinet_cpu_defs.h（TOPPERS/JSP）
           プロセッサに依存するパラメータを定義する。config のプロセッ
         サ略称のディレクトリに置く。

   (4)   tinet_nic_defs.h
           イーサネットインタフェースに依存するパラメータを定義する。
         tinet/netdev のネットワークインタフェースのディレクトリに置く。

2.  プロセッサに依存する定義

   (1)   CPU_NET_ALIGN
           tinet_target_defs.h（TOPPERS/ASP）、 tinet_cpu_defs.h
         （TOPPERS/JSP）で定義する。プロセッサのアライメントに関する定
         義である。 IP ヘッダ以降は 4 オクテット単位にアクセスする場合
         があり、IP ヘッダ以降を、4 オクテット単位で、アラインする必要
         があれば 4 を指定する。 この定義は、 ネットワークバッファ
         T_NET_BUF に反映される。

3.  NIC に依存する定義

   (1)   IF_ETHER_NIC_HDR_ALIGN
           tinet_nic_defs.h で定義する。4 オクテット単位にデータを入出
         力する NIC もあるが、イーサネットヘッダは 14 オクテットのため、
         前 2 オクテットをダミーにする必要がある。 このような NIC で、
         イーサネットヘッダ T_ETHER_HDR で、アラインを調整する場合は、
         調整量を指定する。調整しない場合は、 0 を指定する。 

   (2)   IF_PDU_HDR_PADDING
           tinet_nic_defs.h で定義する。 T_NET_BUF_IF_PDU で、フレーム
         の終わりの境界の調整量を指定する。例えば、 イーサネットのフレー
         ム長（CRC を除く）の 1,514 オクテットを、 16 オクテット境界に
         調整する場合は、 16 オクテットの倍数である 1,520 オクテットか
         らの差分 6 を指定する。

   (3)   IF_ETHER_NIC_NET_BUF_ALIGN
           tinet_nic_defs.h で定義する。ネットワークバッファで、アライ
         ンを調整する場合は、 調整量を指定する。調整しない場合は、定義
         しない。
